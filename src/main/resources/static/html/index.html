<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThemeXinh - Quản lý Khách hàng</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="brand">
                <h2>Soa Nhóm 2</h2>
            </div>
            <div class="sidebar-menu">
                <div class="admin-greeting">
                    <p>Xin chào, admin</p>
                </div>
                <ul>
                    <li id="customer-management-link" class="active">
                        <a href="index.html">
                            <i class="fas fa-users"></i>
                            <span>Quản lý khách hàng</span>
                        </a>
                    </li>
                    <li id="email-marketing-link">
                        <a href="email-marketing.html">
                            <i class="fas fa-envelope"></i>
                            <span>Email Marketing</span>
                        </a>
                    </li>
                    <li id="customer-care-link">
                        <a href="customer-care.html">
                            <i class="fas fa-headset"></i>
                            <span>Chăm sóc khách hàng</span>
                        </a>
                    </li>
                    <li id="service-management-link">
                        <a href="service-management.html">
                            <i class="fas fa-tasks"></i>
                            <span>Quản lý hạng mục dịch vụ</span>
                        </a>
                    </li>
                    <li id="logout-link">
                        <a href="#">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Đăng xuất</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <button class="toggle-menu">
                    <i class="fas fa-bars"></i>
                </button>
                <h1>Quản lý khách hàng</h1>
            </div>
            
            <!-- Phần Quản lý khách hàng -->
            <div class="content">
                <div class="action-buttons">
                    <button class="add-customer">
                        <i class="fas fa-user-plus"></i>
                        Thêm khách hàng mới
                    </button>
                </div>
                
                <!-- Phần tìm kiếm và lọc -->
                <div class="search-filter-container">
                    <div class="search-box">
                        <input type="text" class="search-input" placeholder="Tìm kiếm khách hàng theo tên, email, SĐT...">
                        <button class="search-button"><i class="fas fa-search"></i></button>
                    </div>
                    
                    <div class="filters">
                        <div class="filter-group">
                            <label>Phân loại khách hàng</label>
                            <select id="filter-type">
                                <option value="">Tất cả phân loại</option>
                                <option value="potential">Khách hàng tiềm năng</option>
                                <option value="current">Khách hàng hiện tại</option>
                                <option value="vip">Khách hàng VIP</option>
                                <option value="industry">Theo ngành nghề</option>
                                <option value="regional">Theo khu vực</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label>Tình trạng</label>
                            <select id="filter-status">
                                <option value="">Tất cả tình trạng</option>
                                <option value="active">Đang hoạt động</option>
                                <option value="inactive">Không hoạt động</option>
                                <option value="new">Mới tạo</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label>Loại dự án</label>
                            <select id="filter-project-type">
                                <option value="">Tất cả dự án</option>
                                <option value="website">Website</option>
                                <option value="app">Ứng dụng di động</option>
                                <option value="branding">Branding</option>
                                <option value="marketing">Marketing</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label>Khu vực</label>
                            <select id="filter-region">
                                <option value="">Tất cả khu vực</option>
                                <option value="north">Miền Bắc</option>
                                <option value="central">Miền Trung</option>
                                <option value="south">Miền Nam</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="filter-actions">
                        <button class="apply-filters">Áp dụng bộ lọc</button>
                        <button class="reset-filters">Xóa bộ lọc</button>
                    </div>
                </div>
                
                <div class="customer-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Họ tên</th>
                                <th>Email</th>
                                <th>SĐT</th>
                                <th>Công ty</th>
                                <th>Loại dự án</th>
                                <th>Ngân sách</th>
                                <th>Đã thanh toán</th>
                                <th>Tiến độ</th>
                                <th>Thời hạn</th>
                                <th>Trạng thái</th>
                                <th>Hành động</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>NGUYEN XUAN BINH</td>
                                <td>binhcover98@gmail.com</td>
                                <td>0975510794</td>
                                <td>Haravy</td>
                                <td>Website điện tử</td>
                                <td>20.000.000 VND</td>
                                <td>10.000.000 VND</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 90%;"></div>
                                        <span>90%</span>
                                    </div>
                                </td>
                                <td>2025-04-19</td>
                                <td><span class="status new">new</span></td>
                                <td class="actions">
                                    <button class="edit"><i class="fas fa-edit"></i> Sửa</button>
                                    <button class="delete"><i class="fas fa-trash"></i> Xóa</button>
                                    <button class="print"><i class="fas fa-print"></i> In báo giá</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Templates HTML cho modals -->
    <template id="edit-customer-template">
        <div class="edit-customer-container">
            <div class="edit-header">
                <h2 class="edit-title">Chỉnh sửa thông tin khách hàng: <span id="customer-name-title"></span></h2>
                <button class="back-button"><i class="fas fa-arrow-left"></i> Quay lại</button>
            </div>
            
            <div class="edit-content-wrapper">
                <div class="edit-form-container">
                    <h3 class="section-title">Thông tin khách hàng</h3>
                    <form id="edit-customer-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-name">Tên khách hàng</label>
                                <input type="text" id="edit-name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-phone">Số điện thoại</label>
                                <input type="tel" id="edit-phone" name="phone" required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-email">Email</label>
                                <input type="email" id="edit-email" name="email">
                            </div>
                            <div class="form-group">
                                <label for="edit-company">Công ty</label>
                                <input type="text" id="edit-company" name="company">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-project-type">Loại dự án</label>
                                <input type="text" id="edit-project-type" name="projectType">
                            </div>
                            <div class="form-group">
                                <label for="edit-type">Loại khách hàng</label>
                                <select id="edit-type" name="customerType">
                                    <option value="regular">Thường xuyên</option>
                                    <option value="vip">VIP</option>
                                    <option value="potential">Tiềm năng</option>
                                    <option value="new">Mới</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-budget">Ngân sách</label>
                                <input type="text" id="edit-budget" name="budget">
                            </div>
                            <div class="form-group">
                                <label for="edit-payment">Đã thanh toán</label>
                                <input type="text" id="edit-payment" name="payment">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-progress">Tiến độ (%)</label>
                                <input type="number" id="edit-progress" name="progress" min="0" max="100">
                            </div>
                            <div class="form-group">
                                <label for="edit-deadline">Thời hạn</label>
                                <input type="date" id="edit-deadline" name="deadline">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-address">Địa chỉ</label>
                                <input type="text" id="edit-address" name="address">
                            </div>
                            <div class="form-group">
                                <label for="edit-status">Trạng thái</label>
                                <select id="edit-status" name="status">
                                    <option value="new">Mới</option>
                                    <option value="active">Đang xử lý</option>
                                    <option value="completed">Hoàn thành</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-notes">Ghi chú</label>
                            <textarea id="edit-notes" name="notes"></textarea>
                        </div>
                        
                        <input type="hidden" id="edit-id" name="id">
                        <input type="hidden" id="edit-created-date" name="created_date">
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-cancel back-button">Hủy</button>
                            <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
                        </div>
                    </form>
                </div>
                
                <div class="edit-history-container">
                    <h3 class="section-title">Lịch sử chỉnh sửa</h3>
                    <div class="history-container">
                        <div class="history-item">
                            <div class="history-header">
                                <span class="history-date">15/11/2023 - 14:30</span>
                                <span class="history-user">admin</span>
                            </div>
                            <div class="history-details">
                                <p>Trạng thái: <span class="old-value">Không hoạt động</span> → <span class="new-value">Đang hoạt động</span></p>
                            </div>
                        </div>
                        <div class="history-item">
                            <div class="history-header">
                                <span class="history-date">10/11/2023 - 09:15</span>
                                <span class="history-user">admin</span>
                            </div>
                            <div class="history-details">
                                <p>Loại khách hàng: <span class="old-value">Thường xuyên</span> → <span class="new-value">VIP</span></p>
                                <p>Ghi chú: <span class="old-value">Không có</span> → <span class="new-value">Khách hàng thân thiết, cần chăm sóc đặc biệt</span></p>
                            </div>
                        </div>
                        <div class="history-item">
                            <div class="history-header">
                                <span class="history-date">05/11/2023 - 11:20</span>
                                <span class="history-user">admin</span>
                            </div>
                            <div class="history-details">
                                <p>Ngân sách: <span class="old-value">15.000.000 VNĐ</span> → <span class="new-value">20.000.000 VNĐ</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="add-customer-template">
        <div class="add-customer-form active">
            <h2 class="form-title">Thêm khách hàng mới</h2>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="fullname">Họ và tên</label>
                    <input type="text" id="fullname">
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="phone">Số điện thoại</label>
                    <input type="text" id="phone">
                </div>
                <div class="form-group">
                    <label for="company">Công ty</label>
                    <input type="text" id="company">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="customer-type">Phân loại khách hàng</label>
                    <select id="customer-type">
                        <option>Khách hàng tiềm năng</option>
                        <option>Khách hàng hiện tại</option>
                        <option>Khách hàng VIP</option>
                        <option>Khách hàng theo ngành nghề</option>
                        <option>Khách hàng theo khu vực</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="customer-status">Tình trạng khách hàng</label>
                    <select id="customer-status">
                        <option selected>Mới tạo</option>
                        <option>Đang hoạt động</option>
                        <option>Không hoạt động</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="customer-region">Khu vực</label>
                    <select id="customer-region">
                        <option value="">Chọn khu vực</option>
                        <option value="north">Miền Bắc</option>
                        <option value="central">Miền Trung</option>
                        <option value="south">Miền Nam</option>
                        <option value="foreign">Nước ngoài</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="address">Địa chỉ</label>
                    <textarea id="address"></textarea>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="website">Website hiện tại</label>
                    <input type="url" id="website">
                </div>
                <div class="form-group">
                    <label for="project-type">Loại dự án</label>
                    <input type="text" id="project-type">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="budget">Ngân sách (VNĐ)</label>
                    <input type="text" id="budget">
                </div>
                <div class="form-group">
                    <label for="payment">Đã thanh toán</label>
                    <input type="text" id="payment">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="progress">Tiến độ (%)</label>
                    <input type="number" id="progress" min="0" max="100" value="1">
                </div>
                <div class="form-group">
                    <label for="deadline">Thời hạn</label>
                    <input type="date" id="deadline">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="contact-date">Ngày liên hệ</label>
                    <input type="date" id="contact-date">
                </div>
                <div class="form-group">
                    <label for="status">Trạng thái dự án</label>
                    <select id="status">
                        <option selected>Mới</option>
                        <option>Đang xử lý</option>
                        <option>Hoàn thành</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="requirements">Yêu cầu cụ thể</label>
                    <textarea id="requirements"></textarea>
                </div>
                <div class="form-group">
                    <label for="notes">Ghi chú</label>
                    <textarea id="notes"></textarea>
                </div>
            </div>
            
            <div class="form-actions">
                <button class="btn-primary" id="save-customer">Thêm khách hàng</button>
                <button class="btn-secondary" id="cancel-add">Quay lại</button>
            </div>
        </div>
    </template>

    <script src="common.js"></script>
    <script src="customer-management.js"></script>
</body>
</html> 